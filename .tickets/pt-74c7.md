---
id: pt-74c7
status: closed
deps: [pt-1pxe]
links: []
created: 2026-02-06T13:07:53Z
type: task
priority: 2
assignee: legout
external-ref: plan-kb-management-cli
tags: [tf, backlog, plan, knowledge]
---
# Implement tf kb archive + restore

## Task
Implement `tf kb archive <topic-id>` and `tf kb restore <topic-id>`.

## Acceptance Criteria
- [ ] Archive moves dir to `.tf/knowledge/archive/topics/<id>` and removes entry from index.json.
- [ ] Restore moves back to `.tf/knowledge/topics/<id>` and re-adds index entry.
- [ ] Operations are idempotent (archiving an already archived topic is a no-op with a message).

## References
- Plan: plan-kb-management-cli



## Notes

**2026-02-06T13:29:16Z**

## Implementation Complete

Implemented tf kb archive and tf kb restore commands as specified in plan-kb-management-cli.

### Changes
- Modified tf_cli/kb_cli.py to add cmd_archive() and cmd_restore() functions
- Both commands are idempotent (archiving an already archived topic is a no-op)
- Archive creates archive.md with timestamp and optional reason
- Restore extracts title from markdown heading when re-adding to index

### Commit
456bb84 pt-74c7: Implement tf kb archive + restore commands

### Artifacts
- .tf/knowledge/tickets/pt-74c7/research.md
- .tf/knowledge/tickets/pt-74c7/implementation.md
- .tf/knowledge/tickets/pt-74c7/review.md
- .tf/knowledge/tickets/pt-74c7/fixes.md
